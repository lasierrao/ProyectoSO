DROP DATABASE IF EXISTS Juego;
CREATE DATABASE Juego;
USE Juego;

CREATE TABLE Jugador (
  Identificador INTEGER PRIMARY KEY NOT NULL AUTO_INCREMENT,
  Nombre TEXT NOT NULL,
  Password TEXT NOT NULL,
  Conectado BOOLEAN NOT NULL
)ENGINE = InnoDB;

CREATE TABLE Partida (
 Identificador INTEGER PRIMARY KEY NOT NULL,
 Fecha TEXT NOT NULL,
 Duracion INTEGER NOT NULL,
 Ganador TEXT NOT NULL
)ENGINE = InnoDB;

CREATE TABLE JugadorPartida (
 Jugador INTEGER NOT NULL,
 Partida INTEGER NOT NULL,
 FOREIGN KEY (Jugador) REFERENCES Jugador(Identificador),
 FOREIGN KEY (Partida) REFERENCES Partida(Identificador)
 )ENGINE = InnoDB;

INSERT INTO Jugador VALUES(1,'Juan','1A',false);
INSERT INTO Jugador VALUES(2,'Maria','Maria123',false);
INSERT INTO Jugador VALUES(3,'Pedro','hola1',false);
INSERT INTO Jugador VALUES(4,'Luis','123',false);
INSERT INTO Jugador VALUES(5,'Julia','123',false);

INSERT INTO Partida VALUES(1,'01/10/2019-11:55',230,'Maria');
INSERT INTO Partida VALUES(2,'01/10/2019-13:55',280,'Maria');
INSERT INTO Partida VALUES(3,'01/10/2019-13:55',230,'Juan');

INSERT INTO JugadorPartida VALUES(4,1);
INSERT INTO JugadorPartida VALUES(2,1);
INSERT INTO JugadorPartida VALUES(3,2);
INSERT INTO JugadorPartida VALUES(2,2);
INSERT INTO JugadorPartida VALUES(1,3);
INSERT INTO JugadorPartida VALUES(2,3);
INSERT INTO JugadorPartida VALUES(5,3);